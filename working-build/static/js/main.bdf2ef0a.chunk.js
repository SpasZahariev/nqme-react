(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,n,t){},106:function(e,n,t){},107:function(e,n,t){e.exports=t.p+"static/media/space.020f3382.mp4"},108:function(e,n,t){},109:function(e,n,t){},126:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},152:function(e,n,t){},153:function(e,n,t){},154:function(e,n,t){},181:function(e,n){},184:function(e,n,t){},185:function(e,n,t){},189:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(91),c=t(24),o=t(93),l=t(0),s=t.n(l),i=t(34),u=t.n(i),m=t(8),p=t(35),d=(t(104),t(20)),f=(t(105),t(106),function(){return s.a.createElement("div",{className:"background-pane"},s.a.createElement("video",{className:"video-bg-elem",preload:"auto",loop:!0,autoPlay:!0,muted:!0},s.a.createElement("source",{src:t(107),type:"video/mp4"})))}),E=(t(108),function(){return s.a.createElement("div",{className:"error-box"},s.a.createElement("h1",{className:"display-3"},"Error 404"),s.a.createElement("h3",{className:"display-5"},"Check your page URL"))}),g=t(40),v=t(38),h=t(22),b=t(23),N=t.n(b);function S(){var e=Object(h.a)(["\n  mutation($pin: String!) {\n    dequeueSong(pin: $pin) {\n      songs {\n        url\n      }\n    }\n  }\n"]);return S=function(){return e},e}function y(){var e=Object(h.a)(["\n  mutation($pin: String!, $title: String!) {\n    likeSong(pin: $pin, title: $title) {\n      songs {\n        url\n      }\n    }\n  }\n"]);return y=function(){return e},e}function O(){var e=Object(h.a)(["\n  mutation(\n    $pin: String!\n    $title: String!\n    $url: String!\n    $username: String!\n    $company: String!\n  ) {\n    putSong(\n      pin: $pin\n      title: $title\n      url: $url\n      username: $username\n      company: $company\n    ) {\n      songs {\n        url\n      }\n    }\n  }\n"]);return O=function(){return e},e}function k(){var e=Object(h.a)(["\n  mutation {\n    putRoom {\n      room {\n        usernames\n        pin\n        songs {\n          title\n          url\n          likes\n          company\n        }\n      }\n    }\n  }\n"]);return k=function(){return e},e}var w=N()(k()),C=N()(O()),T=N()(y()),j=N()(S());function I(){var e=Object(h.a)(["\n  query {\n    rooms {\n      pin\n      usernames\n      songs {\n        title\n        url\n        likes\n        username\n        company\n      }\n    }\n  }\n"]);return I=function(){return e},e}function _(){var e=Object(h.a)(["\n  query($pinCode: String!) {\n    room(pin: $pinCode) {\n      pin\n      usernames\n      songs {\n        title\n        url\n        likes\n        username\n        company\n      }\n    }\n  }\n"]);return _=function(){return e},e}var R=N()(_()),L=(N()(I()),"BEGIN_API_CALL"),x="API_CALL_ERROR",U="LOAD_ROOM_SUCCESS",P="LOAD_USERNAMES_SUCCESS",q="SET_SESSION_NAME",$="SEARCH_SONGS_SUCCESS",A="ADD_SONG_OPTIMISTIC",F="CLEAR_SEARCH_RESULTS",Y="LIKE_SONG_OPTIMISTIC",z="SET_TO_LIVE_PLAYLIST",M="SET_TO_LIVE_USERNAMES",B="DEQUEUE_SONG_OPTIMISTIC";function J(){return{type:L}}function D(){return{type:x}}function Q(e){return{type:M,usernames:e}}function G(e){return{type:q,sessionName:e}}var H="Host";function V(e){return{type:U,room:e}}function W(e){return{type:z,songs:e}}function K(e,n,t){return function(a){a(function(e){return{type:A,song:e}}(t)),a({type:F});var r=t.title,c=t.url,o=t.username,l=t.company;return e.mutate({mutation:C,variables:{pin:n,title:r,url:c,username:o,company:l}})}}function X(e,n,t){return function(a){return a(function(e){return{type:Y,title:e}}(t)),e.mutate({mutation:T,variables:{pin:n,title:t}})}}function Z(e,n){return function(t){return t({type:B}),e.mutate({mutation:j,variables:{pin:n}})}}t(109);var ee,ne=t(192),te=Object(ne.a)(Object(m.b)(function(e){return{pin:e.pin,isLoading:e.apiCallsInProgress>0}},function(e,n){return{loadRoom:function(t){return e((a=n.client,r=t,function(e){return e(J()),a.query({query:R,variables:{pinCode:r}}).then(function(n){console.log("here is my result",n),console.log(n.data.room);var t=n.data.room;e(G(t.usernames[t.usernames.length-1])),e(V(t))}).catch(function(n){throw e(D()),n})}));var a,r},createRoom:function(){return e((t=n.client,function(e){return e(J()),e(G(H)),t.mutate({mutation:w}).then(function(n){console.log("room created"),console.log(n),e(V(n.data.putRoom.room))}).catch(function(n){throw e(D()),n})}));var t}}})(function(e){var n=Object(l.useState)(!1),t=Object(g.a)(n,2),a=t[0],r=t[1],c=function(n){4===n.currentTarget.value.length&&(console.log("this is it boizzz!"),e.loadRoom(n.currentTarget.value))};return e.isLoading?s.a.createElement("div",null,s.a.createElement("div",{className:"darken-background"}),s.a.createElement(v.FlowerSpinner,{color:"#d1c7d3",size:220,className:"center-flower"})):s.a.createElement("div",{className:"container-fluid center-div"},e.pin&&s.a.createElement(d.a,{to:"/room/"+e.pin}),s.a.createElement("div",{className:"main-caption"},a?s.a.createElement("div",{className:"input-group-lg room-input col-6 col-md-4 col-lg-3 col-xl-2"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Input 4 digits",onChange:c}),s.a.createElement("h2",null,"OR")):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"display-2"},"NQME"),s.a.createElement("h3",null,"Youtube and Spotify Playlist")),s.a.createElement("button",{className:"btn btn-primary btn-lg m-2",onClick:function(){return e.createRoom()}},"Create Room"),s.a.createElement("button",{className:"btn btn-outline-light btn-lg m-2",type:"button",disabled:a,onClick:function(){return r(!0)}},"Join Room")))})),ae=t(83),re=t(26),ce=t(16),oe=(t(126),t(52)),le=t.n(oe),se=t(86);!function(e){e.YOUTUBE="YOUTUBE",e.SPOTIFY="SPOTIFY"}(ee||(ee={}));var ie=t(19),ue=t(87),me=t.n(ue),pe={maxResults:4,key:ie.c,type:"video"};function de(){return(de=Object(se.a)(le.a.mark(function e(n){var t;return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,me()(n,pe).then(function(e){return e.results.map(function(e){return t.push({title:e.title,url:e.link,likes:0,username:"",company:ee.YOUTUBE})})}).catch(function(e){return console.log(e)});case 3:return console.log("Youtube search came back with stuff",t),e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}t(150);var fe={onSearchSong:function(e,n){return function(t){return t(J()),function(e){return de.apply(this,arguments)}(e).then(function(e){e=e.map(function(e){return e.username=n,e}),t({type:$,songs:e})}).catch(function(e){return t(D())})}}},Ee=Object(m.b)(function(e){return{sessionName:e.sessionName}},fe)(function(e){var n=Object(l.useState)(""),t=Object(g.a)(n,2),a=t[0],r=t[1];return s.a.createElement("div",{className:"container-fluid nav-container"},s.a.createElement("div",{className:"nqme-row"},s.a.createElement("a",{href:"/",className:"nqme-nav-link"},s.a.createElement("h4",{id:"logo-header"},s.a.createElement("span",{id:"text-4-user"},"Host"===e.sessionName?s.a.createElement(s.a.Fragment,null,"NQME "):s.a.createElement(s.a.Fragment,null)),s.a.createElement("span",null,e.sessionName))),s.a.createElement("form",{className:"col-10 col-sm-10 col-md-5 col-lg-7",onSubmit:function(n){n.preventDefault(),e.onSearchSong(a,e.sessionName),r("")}},s.a.createElement("div",{className:"input-group",id:"search-div"},s.a.createElement("input",{type:"text",className:"form-control",id:"search-input",placeholder:"Search for a Song",value:a,onChange:function(e){r(e.target.value)}}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-primary",id:"button-input",type:"submit",value:"Submit"},s.a.createElement(ce.a,{icon:re.d}))))),s.a.createElement("div",null,s.a.createElement("button",{className:"btn",id:"cogwheel","data-toggle":"dropdown-menu","aria-expanded":"false"},s.a.createElement(ce.a,{icon:re.a,color:"#d1c7d3",size:"lg"})))))}),ge=t(53),ve=(t(151),Object(ne.a)(Object(m.b)(function(e){return{pin:e.pin,searchResults:e.searchResults}},function(e,n){return{addSongToQueue:function(t,a){return e(K(n.client,t,a))}}})(function(e){return 0===e.searchResults.length?s.a.createElement(s.a.Fragment,null):s.a.createElement("div",{className:"search-result-container"},s.a.createElement("div",{className:"search-result-container-header"},s.a.createElement("span",null,s.a.createElement("h3",null,"Search Results"))),s.a.createElement("div",{className:"search-result-table"},e.searchResults.map(function(n){return s.a.createElement("div",{className:"search-result-holder",key:n.url},n.company===ee.YOUTUBE?s.a.createElement(ce.a,{icon:ge.b,className:"corporation-icon",color:"#ff0000",size:"2x"}):s.a.createElement(ce.a,{icon:ge.a,className:"corporation-icon",color:"#84bd00",size:"2x"}),s.a.createElement("div",{className:"song-name"},s.a.createElement("p",null,n.title)),s.a.createElement("button",{className:"btn-primary btn-circle",onClick:function(){return e.addSongToQueue(e.pin,n)}},s.a.createElement(ce.a,{icon:re.c,color:"#d1c7d3",size:"2x"})))})))}))),he=(t(152),function(e){console.log(e);for(var n=0,t=0;t<e.length;t++)n=e.charCodeAt(t)+((n<<5)-n);for(var a="#",r=0;r<3;r++){a+=("00"+(n>>8*r&255).toString(16)).substr(-2)}return a}),be=Object(ne.a)(Object(m.b)(function(e){return{pin:e.pin,songs:e.songs}},function(e,n){return{likeSong:function(t,a){return e(X(n.client,t,a))}}})(function(e){return s.a.createElement("div",{className:"queue-container"},s.a.createElement("div",{className:"queue-container-header"},s.a.createElement("span",null,s.a.createElement("h3",null,"Room Code: ",s.a.createElement("span",{className:"accented-text"},e.pin)))),s.a.createElement("div",{className:"queue-table"},e.songs.map(function(n){return s.a.createElement("div",{className:"queue-holder",style:{borderLeftColor:he(n.username)},key:n.title},s.a.createElement("div",{className:"song-name"},s.a.createElement("p",null,n.title)),s.a.createElement("button",{className:"btn-primary btn-beat shadow-none",onClick:function(){return e.likeSong(e.pin,n.title)}},s.a.createElement("span",{className:"num-likes"},n.likes),s.a.createElement(ce.a,{icon:re.b,color:"#d1c7d3",size:"lg"})))})))})),Ne=(t(153),function(e){return s.a.createElement("div",{className:"nickname-container"},s.a.createElement("div",{className:"nickname-header"},s.a.createElement("h3",null,"Number of Users: ",s.a.createElement("span",{className:"accented-text"},e.usernames.length))),s.a.createElement("div",{className:"nickname-table"},e.usernames.map(function(e){return s.a.createElement("div",{className:"name-holder",style:{borderLeftColor:he(e)},key:e},e)})))});t(154);function Se(e){var n=e.indexOf("watch?v=")+8;return e.substring(n)}var ye=t(39),Oe=t.n(ye);function ke(e){return e.map(function(e){return{title:e.title,url:e.url,likes:parseInt(e.likes),username:e.username,company:"YOUTUBE"===e.company?ee.YOUTUBE:ee.SPOTIFY}})}var we,Ce,Te={height:"500",width:"100%",playerVars:{origin:"localhost",iv_load_policy:3,autoplay:1,modestbranding:1,fs:0}},je=Object(ne.a)(Object(m.b)(function(e){return{pin:e.pin,usernames:e.usernames,songs:e.songs,isLoading:e.apiCallsInProgress>0}},function(e,n){return{dequeueSong:function(t){return e(Z(n.client,t))},setToLivePlaylist:function(n){return e(W(n))},setToLiveUsernames:function(n){return e(Q(n))}}})(function(e){Object(l.useEffect)(function(){return we=Oe()(ie.a),console.log(we),function(){we.emit("disconnect")}},[]);var n=e.songs,t=e.usernames,a=e.setToLivePlaylist,r=e.setToLiveUsernames;Object(l.useEffect)(function(){we.on("playlist_channel",function(e){console.log("we got something!"),console.log(JSON.parse(e)),a(ke(JSON.parse(e)))})},[n,a]),Object(l.useEffect)(function(){we.on("usernames_channel",function(e){console.log("we got userNAMES"),console.log(e),r(JSON.parse(e))})},[t,r]);var c=function(){return s.a.createElement("div",{className:"col-md-12 col-xl-5"},s.a.createElement(ve,null))},o=function(){return s.a.createElement("div",{className:"col-sm-12 col-lg-6 col-xl-3"},s.a.createElement(be,null))},i=function(){return s.a.createElement("div",{className:"col-sm-12 col-lg-6 col-xl-3"},s.a.createElement(Ne,{usernames:e.usernames}))};return s.a.createElement("div",{className:"main-container col-lg-12 col-xl-11"},s.a.createElement(Ee,null),s.a.createElement("div",{className:"content-container"},e.songs.length>0?s.a.createElement("div",{id:"music-player",className:"player-wrapper"},s.a.createElement(ae.a,{videoId:Se(e.songs[0].url),opts:Te,onReady:function(e){return e.target.playVideo()},onEnd:function(){return e.dequeueSong(e.pin)}})):s.a.createElement(s.a.Fragment,null),s.a.createElement("div",{className:"container-fluid row tables-container"},window.innerWidth<1220?s.a.createElement(s.a.Fragment,null,c(),o(),i()):s.a.createElement(s.a.Fragment,null,o(),c(),i()))))})),Ie=(t(184),{setToLivePlaylist:W,setToLiveUsernames:Q}),_e=Object(m.b)(function(e){return{pin:e.pin,usernames:e.usernames,songs:e.songs,sessionName:e.sessionName,isLoading:e.apiCallsInProgress>0}},Ie)(function(e){Object(l.useEffect)(function(){return Ce=Oe()(ie.a),console.log(Ce),function(){Ce.emit("disconnect")}},[]);var n=e.songs,t=e.usernames,a=e.setToLivePlaylist,r=e.setToLiveUsernames;Object(l.useEffect)(function(){Ce.on("playlist_channel",function(e){console.log("we got something!"),console.log(JSON.parse(e)),a(ke(JSON.parse(e)))})},[n,a]),Object(l.useEffect)(function(){Ce.on("usernames_channel",function(e){r(JSON.parse(e))})},[t,r]);var c=function(){return s.a.createElement("div",{className:"col-md-12 col-xl-5"},s.a.createElement(ve,null))},o=function(){return s.a.createElement("div",{className:"col-sm-12 col-lg-6 col-xl-3"},s.a.createElement(be,null))},i=function(){return s.a.createElement("div",{className:"col-sm-12 col-lg-6 col-xl-3"},s.a.createElement(Ne,{usernames:e.usernames}))};return e.isLoading?s.a.createElement("div",null,s.a.createElement("div",{className:"darken-background"}),s.a.createElement(v.FlowerSpinner,{color:"#d1c7d3",size:220,className:"center-flower"})):s.a.createElement("div",{className:"main-container col-lg-12 col-xl-11"},s.a.createElement(Ee,null),s.a.createElement("div",{className:"content-container"},s.a.createElement("div",null,s.a.createElement("div",null)),s.a.createElement("div",{className:"container-fluid row tables-container"},window.innerWidth<1220?s.a.createElement(s.a.Fragment,null,c(),o(),i()):s.a.createElement(s.a.Fragment,null,o(),c(),i()))))}),Re=Object(m.b)(function(e){return{sessionName:e.sessionName}})(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(f,null),s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/",component:te}),s.a.createElement(d.b,{path:"/room/:id",component:function(){return"Host"===e.sessionName?s.a.createElement(je,null):s.a.createElement(_e,null)}}),s.a.createElement(d.b,{component:E})))}),Le=(t(185),t(18)),xe=t(88),Ue=t(89),Pe=t.n(Ue),qe=t(90),$e={pin:null,usernames:[],songs:[],sessionName:"(=^-^=)",searchResults:[],apiCallsInProgress:0};var Ae=t(94),Fe=t(92);var Ye=Object(Le.combineReducers)({pin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.pin,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case U:return n.room.pin;default:return e}},usernames:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.usernames,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case U:return n.room.usernames;case P:case M:return n.usernames;default:return e}},songs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.songs,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case U:return n.room.songs;case A:return[].concat(Object(Fe.a)(e),[n.song]);case Y:return e.map(function(e){return e.title===n.title?Object(Ae.a)({},e,{likes:e.likes+1}):e}).sort(function(e,n){return n.likes-e.likes});case B:return e.slice(1);case z:return n.songs;default:return e}},sessionName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.sessionName,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case q:return n.sessionName;default:return e}},searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.searchResults,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case $:return n.songs;case F:return[];default:return e}},apiCallsInProgress:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.apiCallsInProgress,t=arguments.length>1?arguments[1]:void 0;return t.type===L?n+1:t.type===x||"_SUCCESS"===(e=t.type).substring(e.length-8)?n-1:n}});var ze,Me=new r.a,Be=new o.a({uri:ie.b}),Je=new c.a({cache:Me,link:Be}),De=Object(Le.createStore)(Ye,ze,Object(xe.composeWithDevTools)(Object(Le.applyMiddleware)(qe.a,Pe()())));u.a.render(s.a.createElement(m.a,{store:De},s.a.createElement(a.b,{client:Je},s.a.createElement(p.a,null,s.a.createElement(Re,null)))),document.getElementById("root"))},19:function(e){e.exports={c:"AIzaSyBuyPv-QTXNkwvOtyIGuDQL1IwcV370SB4",a:"https://nqme-graphql.herokuapp.com/",b:"https://nqme-graphql.herokuapp.com/graphql"}},95:function(e,n,t){e.exports=t(189)}},[[95,1,2]]]);
//# sourceMappingURL=main.bdf2ef0a.chunk.js.map